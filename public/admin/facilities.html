<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>×”×–×× ×ª ××ª×§× ×™× - ××¢×¨×›×ª × ×™×”×•×œ ×™×™×©×•×‘ ××™×¦×“</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/admin/admin.css">
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="admin-layout">
    <aside class="admin-sidebar">
      <div class="sidebar-header"><h2>××™×¦×“</h2><span>××¢×¨×›×ª × ×™×”×•×œ ×™×™×©×•×‘</span></div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <span class="nav-section-title">×¨××©×™</span>
          <a href="/admin/dashboard.html" class="nav-item"><span class="nav-icon">ğŸ“Š</span><span class="nav-text">×œ×•×— ×‘×§×¨×”</span></a>
          <a href="/admin/requests.html" class="nav-item"><span class="nav-icon">ğŸ“¬</span><span class="nav-text">×¤× ×™×•×ª ×ª×•×©×‘×™×</span></a>
        </div>
        <div class="nav-section">
          <span class="nav-section-title">×§×”×™×œ×”</span>
          <a href="/admin/events.html" class="nav-item"><span class="nav-icon">ğŸ“…</span><span class="nav-text">×œ×•×— ××™×¨×•×¢×™×</span></a>
          <a href="/admin/announcements.html" class="nav-item"><span class="nav-icon">ğŸ“¢</span><span class="nav-text">×”×•×“×¢×•×ª ×•×”×›×¨×–×•×ª</span></a>
          <a href="/admin/directory.html" class="nav-item"><span class="nav-icon">ğŸ“–</span><span class="nav-text">×¡×¤×¨ ×˜×œ×¤×•× ×™×</span></a>
          <a href="/admin/polls.html" class="nav-item"><span class="nav-icon">ğŸ—³ï¸</span><span class="nav-text">×¡×§×¨×™× ×•×”×¦×‘×¢×•×ª</span></a>
        </div>
        <div class="nav-section">
          <span class="nav-section-title">××©××‘×™×</span>
          <a href="/admin/facilities.html" class="nav-item active"><span class="nav-icon">ğŸ›ï¸</span><span class="nav-text">×”×–×× ×ª ××ª×§× ×™×</span></a>
          <a href="/admin/documents.html" class="nav-item"><span class="nav-icon">ğŸ“„</span><span class="nav-text">××¡××›×™× ×•× ×”×œ×™×</span></a>
          <a href="/admin/maintenance.html" class="nav-item"><span class="nav-icon">ğŸ”§</span><span class="nav-text">×ª×—×–×•×§×”</span></a>
        </div>
        <div class="nav-section">
          <span class="nav-section-title">× ×™×”×•×œ</span>
          <a href="/admin/employees.html" class="nav-item"><span class="nav-icon">ğŸ‘¥</span><span class="nav-text">× ×™×”×•×œ ×¢×•×‘×“×™×</span></a>
          <a href="/admin/budget.html" class="nav-item"><span class="nav-icon">ğŸ’°</span><span class="nav-text">× ×™×”×•×œ ×ª×§×¦×™×‘</span></a>
          <a href="/admin/infrastructure.html" class="nav-item"><span class="nav-icon">ğŸ—ï¸</span><span class="nav-text">× ×™×”×•×œ ×ª×©×ª×™×•×ª</span></a>
          <a href="/admin/planning.html" class="nav-item"><span class="nav-icon">ğŸ“‹</span><span class="nav-text">×ª×›× ×•×Ÿ ×œ×˜×•×•×— ××¨×•×š</span></a>
          <a href="/admin/settings.html" class="nav-item"><span class="nav-icon">âš™ï¸</span><span class="nav-text">×”×’×“×¨×•×ª</span></a>
        </div>
      </nav>
      <div class="sidebar-footer">
        <a href="/" class="nav-item"><span class="nav-icon">ğŸ </span><span class="nav-text">×œ××ª×¨ ×”×¨××©×™</span></a>
        <a href="#" class="nav-item" onclick="logout()"><span class="nav-icon">ğŸšª</span><span class="nav-text">×”×ª× ×ª×§×•×ª</span></a>
      </div>
    </aside>

    <button class="admin-menu-toggle" onclick="toggleSidebar()">â˜°</button>

    <main class="admin-main">
      <header class="admin-header">
        <div class="header-right"><h1>ğŸ›ï¸ ×”×–×× ×ª ××ª×§× ×™×</h1></div>
        <div class="header-left">
          <button class="btn btn-primary" onclick="showAddFacility()">â• ××ª×§×Ÿ ×—×“×©</button>
        </div>
      </header>

      <div class="admin-content">
        <section class="dashboard-section">
          <div class="section-header"><h2>××ª×§× ×™× ×–××™× ×™× ×œ×”×–×× ×”</h2></div>
          <div class="facilities-grid" id="facilitiesGrid"></div>
        </section>

        <section class="dashboard-section">
          <div class="section-header">
            <h2>ğŸ“… ×”×–×× ×•×ª ×××ª×™× ×•×ª ×œ××™×©×•×¨</h2>
          </div>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr><th>××ª×§×Ÿ</th><th>×ª××¨×™×š</th><th>×©×¢×•×ª</th><th>××‘×§×©</th><th>××˜×¨×”</th><th>×¤×¢×•×œ×•×ª</th></tr>
              </thead>
              <tbody id="pendingBookings"></tbody>
            </table>
          </div>
        </section>
      </div>
    </main>
  </div>

  <div id="toast" class="toast hidden"></div>

  <script>
    const facilities = [
      { id: 1, name: '××•×œ× ××™×¨×•×¢×™×', icon: 'ğŸ‰', capacity: 200, hourly_rate: 150 },
      { id: 2, name: '×—×“×¨ ×™×©×™×‘×•×ª', icon: 'ğŸ’¼', capacity: 20, hourly_rate: 50 },
      { id: 3, name: '××’×¨×© ×›×“×•×¨×’×œ', icon: 'âš½', capacity: 30, hourly_rate: 0 },
      { id: 4, name: '×—×“×¨ ×—×•×’×™×', icon: 'ğŸ¨', capacity: 15, hourly_rate: 30 },
      { id: 5, name: '××•×¢×“×•×Ÿ × ×•×¢×¨', icon: 'ğŸ®', capacity: 40, hourly_rate: 0 }
    ];

    const bookings = [
      { id: 1, facility: '××•×œ× ××™×¨×•×¢×™×', date: '2026-02-10', time: '18:00-22:00', requester: '××©×¤×—×ª ×›×”×Ÿ', purpose: '×‘×¨ ××¦×•×•×”', status: 'pending' },
      { id: 2, facility: '×—×“×¨ ×™×©×™×‘×•×ª', date: '2026-02-05', time: '20:00-22:00', requester: '×•×•×¢×“×ª ×ª×¨×‘×•×ª', purpose: '×™×©×™×‘×ª ×ª×›× ×•×Ÿ', status: 'pending' }
    ];

    function renderFacilities() {
      const grid = document.getElementById('facilitiesGrid');
      grid.innerHTML = facilities.map(f => `
        <div class="facility-card">
          <div class="facility-icon">${f.icon}</div>
          <h3>${f.name}</h3>
          <p>×§×™×‘×•×œ×ª: ${f.capacity} ×× ×©×™×</p>
          <p>${f.hourly_rate > 0 ? `â‚ª${f.hourly_rate} ×œ×©×¢×”` : '×œ×œ× ×ª×©×œ×•×'}</p>
          <button class="btn btn-primary btn-sm" onclick="bookFacility(${f.id})">×”×–×× ×”</button>
        </div>
      `).join('');
    }

    function renderBookings() {
      const tbody = document.getElementById('pendingBookings');
      if (bookings.length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" class="loading">××™×Ÿ ×”×–×× ×•×ª ×××ª×™× ×•×ª</td></tr>';
        return;
      }
      tbody.innerHTML = bookings.map(b => `
        <tr>
          <td>${b.facility}</td>
          <td>${new Date(b.date).toLocaleDateString('he-IL')}</td>
          <td>${b.time}</td>
          <td>${b.requester}</td>
          <td>${b.purpose}</td>
          <td>
            <button class="action-btn" onclick="approveBooking(${b.id})" title="××™×©×•×¨">âœ…</button>
            <button class="action-btn" onclick="rejectBooking(${b.id})" title="×“×—×™×™×”">âŒ</button>
          </td>
        </tr>
      `).join('');
    }

    function bookFacility(id) { showToast('×”×–×× ×ª ××ª×§×Ÿ - ×‘×§×¨×•×‘', 'info'); }
    function approveBooking(id) { showToast('×”×”×–×× ×” ××•×©×¨×”', 'success'); }
    function rejectBooking(id) { showToast('×”×”×–×× ×” × ×“×—×ª×”', 'info'); }
    function showAddFacility() { showToast('×”×•×¡×¤×ª ××ª×§×Ÿ - ×‘×§×¨×•×‘', 'info'); }
    function toggleSidebar() { document.querySelector('.admin-sidebar').classList.toggle('open'); }
    function logout() { localStorage.removeItem('authToken'); window.location.href = '/#login'; }
    function showToast(message, type = 'info') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = `toast ${type}`;
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 4000);
    }

    renderFacilities();
    renderBookings();
  </script>

  <style>
    .facilities-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: var(--space-4); }
    .facility-card { background: var(--gray-50); border-radius: var(--radius-lg); padding: var(--space-5); text-align: center; transition: all var(--transition-fast); }
    .facility-card:hover { background: white; box-shadow: var(--shadow-md); }
    .facility-icon { font-size: 3rem; margin-bottom: var(--space-3); }
    .facility-card h3 { margin-bottom: var(--space-2); }
    .facility-card p { color: var(--gray-600); font-size: 0.9rem; margin-bottom: var(--space-2); }
  </style>
</body>
</html>
