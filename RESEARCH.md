# ××—×§×¨ ×¢×•××§ - ××ª×¨ × ×™×”×•×œ×™ ×œ×™×™×©×•×‘ ××™×¦×“

## ×ª×•×›×Ÿ ×¢× ×™×™× ×™×
1. [×¡×§×™×¨×ª ×”×¤×¨×•×™×§×˜](#×¡×§×™×¨×ª-×”×¤×¨×•×™×§×˜)
2. [×ª×›×•× ×•×ª ×¢×™×§×¨×™×•×ª × ×“×¨×©×•×ª](#×ª×›×•× ×•×ª-×¢×™×§×¨×™×•×ª-× ×“×¨×©×•×ª)
3. [××¨×›×™×˜×§×˜×•×¨×ª ××¢×¨×›×ª](#××¨×›×™×˜×§×˜×•×¨×ª-××¢×¨×›×ª)
4. [××¢×¨×›×ª ×¤× ×™×•×ª ×ª×•×©×‘×™×](#××¢×¨×›×ª-×¤× ×™×•×ª-×ª×•×©×‘×™×)
5. [××™× ×˜×’×¨×¦×™×™×ª WhatsApp](#××™× ×˜×’×¨×¦×™×™×ª-whatsapp)
6. [×ª×™×›×œ×•×œ ××¢×¨×›×•×ª ×ª×§×©×•×¨×ª](#×ª×™×›×œ×•×œ-××¢×¨×›×•×ª-×ª×§×©×•×¨×ª)
7. [×˜×›× ×•×œ×•×’×™×•×ª ××•××œ×¦×•×ª](#×˜×›× ×•×œ×•×’×™×•×ª-××•××œ×¦×•×ª)
8. [××‘×˜×—×” ×•×”×¨×©××•×ª](#××‘×˜×—×”-×•×”×¨×©××•×ª)
9. [××§×•×¨×•×ª](#××§×•×¨×•×ª)

---

## ×¡×§×™×¨×ª ×”×¤×¨×•×™×§×˜

### ××˜×¨×•×ª ×”××ª×¨
××ª×¨ × ×™×”×•×œ×™ ××§×™×£ ×œ×™×™×©×•×‘ ××™×¦×“ ×”××©××© ×›××¨×›×– ×©×œ×™×˜×” ×•×‘×§×¨×” ×œ×•×•×¢×“ ×”×™×™×©×•×‘, ×¢× ×”×“×’×© ×¢×œ:
- **×¨×™×›×•×– ×ª×§×©×•×¨×ª**: ××™×—×•×“ ×›×œ ×¢×¨×•×¦×™ ×”×ª×§×©×•×¨×ª ×œ× ×§×•×“×” ××—×ª
- **× ×™×”×•×œ ×¤× ×™×•×ª ×ª×•×©×‘×™×**: ×§×‘×œ×”, ××¢×§×‘ ×•×˜×™×¤×•×œ ×‘×¤× ×™×•×ª
- **××™× ×˜×’×¨×¦×™×™×ª WhatsApp**: ×—×™×‘×•×¨ ×œ×§×‘×•×¦×•×ª ×•×¢×“ ×”×™×™×©×•×‘
- **×›×œ×™ × ×™×”×•×œ ××©×•×›×œ×œ×™×**: ×“×•×—×•×ª, ×¡×˜×˜×™×¡×˜×™×§×•×ª, ×•××¢×§×‘

### ×§×”×œ ×”×™×¢×“
1. **×—×‘×¨×™ ×•×¢×“ ×”×™×™×©×•×‘** - ×’×™×©×” ××œ××” ×œ×›×œ ×”×›×œ×™× ×”× ×™×”×•×œ×™×™×
2. **×ª×•×©×‘×™ ×”×™×™×©×•×‘** - ×”×’×©×ª ×¤× ×™×•×ª ×•×¦×¤×™×™×” ×‘×¡×˜×˜×•×¡
3. **××–×›×™×¨×•×ª/×× ×”×œ** - × ×™×”×•×œ ×©×•×˜×£ ×•××¢× ×” ×œ×¤× ×™×•×ª

---

## ×ª×›×•× ×•×ª ×¢×™×§×¨×™×•×ª × ×“×¨×©×•×ª

### 1. ×¤×•×¨×˜×œ ×ª×•×©×‘×™× (Citizen Portal)
×¢×œ ×¤×™ ×”××—×§×¨, ×¤×•×¨×˜×œ ×ª×•×©×‘×™× ××•×“×¨× ×™ ×¦×¨×™×š ×œ×›×œ×•×œ:
- **×›× ×™×¡×” ××—×™×“×” (Single Sign-On)** - ×©× ××©×ª××© ×•×¡×™×¡××” ××—×™×“×™× ×œ×›×œ ×”×©×™×¨×•×ª×™×
- **××¢×¨×›×ª ×¤× ×™×•×ª 311** - ×“×™×•×•×— ×‘×¢×™×•×ª, ××¢×§×‘, ×§×‘×œ×ª ×¢×“×›×•× ×™×
- **×˜×¤×¡×™× ×“×™×’×™×˜×œ×™×™×** - ×”×—×œ×¤×ª ×˜×¤×¡×™ × ×™×™×¨ ×‘×˜×¤×¡×™× ××•× ×œ×™×™×Ÿ
- **×”×ª×××” ×œ××•×‘×™×™×œ** - ×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ×›×œ ×”××›×©×™×¨×™×
- **× ×’×™×©×•×ª** - ×ª××™××•×ª ×œ×ª×§×Ÿ WCAG 2.1 AA

### 2. ××¢×¨×›×ª × ×™×”×•×œ ×¤× ×™×•×ª (CRM)
- **×§×‘×œ×ª ×¤× ×™×•×ª ×××¡×¤×¨ ×¢×¨×•×¦×™×**: ×˜×¤×¡×™×, ××™××™×™×œ, WhatsApp, ×˜×œ×¤×•×Ÿ
- **×ª×™×¢×“×•×£ ××•×˜×•××˜×™** - ×§×˜×’×•×¨×™×–×¦×™×” ×•×”×§×¦××” ×œ×’×•×¨× ××˜×¤×œ
- **××¢×§×‘ ×¡×˜×˜×•×¡** - Open, In Progress, Pending, Resolved, Closed
- **×”×ª×¨××•×ª ××•×˜×•××˜×™×•×ª** - ×œ××’×™×© ×•×œ×¦×•×•×ª ×”×˜×™×¤×•×œ
- **×“×•×—×•×ª ×•×× ×œ×™×˜×™×§×”** - ×–×× ×™ ×ª×’×•×‘×”, ×¡×•×’×™ ×¤× ×™×•×ª, ××’××•×ª

### 3. ×œ×•×— ××—×•×•× ×™× (Dashboard) ×œ×•×•×¢×“
- ×¡×˜×˜×™×¡×˜×™×§×•×ª ×‘×–××Ÿ ×××ª
- ×¤× ×™×•×ª ×—×“×©×•×ª ×•×××ª×™× ×•×ª
- ××©×™××•×ª ×¤×ª×•×—×•×ª
- ××™×¨×•×¢×™× ×§×¨×•×‘×™×
- ×”×ª×¨××•×ª ×“×—×•×¤×•×ª

### 4. × ×™×”×•×œ ××™×¨×•×¢×™× ×•×¤×¢×™×œ×•×™×•×ª
- ×œ×•×— ×©× ×” ×§×”×™×œ×ª×™
- ×¨×™×©×•× ×œ××™×¨×•×¢×™×
- ×ª×–×›×•×¨×•×ª ××•×˜×•××˜×™×•×ª
- ×”×¤×¦×” ×œ×§×‘×•×¦×•×ª WhatsApp

### 5. × ×™×”×•×œ ××¡××›×™× ×•×¤×¨×•×˜×•×§×•×œ×™×
- ××¨×›×™×•×Ÿ ×”×—×œ×˜×•×ª ×•×¢×“
- ×¤×¨×•×˜×•×§×•×œ×™× ×©×œ ×™×©×™×‘×•×ª
- ××¡××›×™× ×¦×™×‘×•×¨×™×™×
- ×—×™×¤×•×© ××ª×§×“×

---

## ××¨×›×™×˜×§×˜×•×¨×ª ××¢×¨×›×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Web App)                        â”‚
â”‚                   HTML/CSS/JavaScript + React                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Backend (Node.js)                         â”‚
â”‚                   Express.js + REST API                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚   Database    â”‚  â”‚   External APIs   â”‚  â”‚   Storage   â”‚
â”‚   Firebase/   â”‚  â”‚   - WhatsApp API  â”‚  â”‚   Firebase  â”‚
â”‚   SQLite/PG   â”‚  â”‚   - Email SMTP    â”‚  â”‚   Storage   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   - SMS Gateway   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ××•×“×•×œ×™× ×¢×™×§×¨×™×™×

```
meitzad-nihul/
â”œâ”€â”€ public/                    # Frontend - ×§×‘×¦×™× ×¡×˜×˜×™×™×
â”‚   â”œâ”€â”€ index.html            # ×“×£ ×¨××©×™
â”‚   â”œâ”€â”€ admin/                # ×××©×§ × ×™×”×•×œ
â”‚   â”‚   â”œâ”€â”€ dashboard.html    # ×œ×•×— ××—×•×•× ×™×
â”‚   â”‚   â”œâ”€â”€ requests.html     # × ×™×”×•×œ ×¤× ×™×•×ª
â”‚   â”‚   â”œâ”€â”€ users.html        # × ×™×”×•×œ ××©×ª××©×™×
â”‚   â”‚   â””â”€â”€ reports.html      # ×“×•×—×•×ª
â”‚   â”œâ”€â”€ citizen/              # ×××©×§ ×ª×•×©×‘
â”‚   â”‚   â”œâ”€â”€ portal.html       # ×¤×•×¨×˜×œ ×ª×•×©×‘
â”‚   â”‚   â”œâ”€â”€ submit.html       # ×”×’×©×ª ×¤× ×™×™×”
â”‚   â”‚   â””â”€â”€ track.html        # ××¢×§×‘ ×¤× ×™×•×ª
â”‚   â”œâ”€â”€ css/                  # ×¢×™×¦×•×‘
â”‚   â””â”€â”€ js/                   # JavaScript
â”œâ”€â”€ server/                   # Backend
â”‚   â”œâ”€â”€ routes/               # API Routes
â”‚   â”œâ”€â”€ services/             # ×©×™×¨×•×ª×™×
â”‚   â”‚   â”œâ”€â”€ email-service.js  # ××™× ×˜×’×¨×¦×™×™×ª ××™××™×™×œ
â”‚   â”‚   â”œâ”€â”€ whatsapp-service.js # ××™× ×˜×’×¨×¦×™×™×ª WhatsApp
â”‚   â”‚   â””â”€â”€ notification-service.js
â”‚   â”œâ”€â”€ models/               # ××•×“×œ×™×
â”‚   â””â”€â”€ middleware/           # Middleware
â”œâ”€â”€ config/                   # ×”×’×“×¨×•×ª (gitignored)
â”œâ”€â”€ firebase.json             # ×”×’×“×¨×•×ª Firebase
â””â”€â”€ database.rules.json       # ×—×•×§×™ ×‘×¡×™×¡ × ×ª×•× ×™×
```

---

## ××¢×¨×›×ª ×¤× ×™×•×ª ×ª×•×©×‘×™×

### ×–×¨×™××ª ×¤× ×™×™×”

```
×ª×•×©×‘ ××’×™×© ×¤× ×™×™×”
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ×¢×¨×•×¦×™ ×§×‘×œ×”      â”‚
â”‚  - ×˜×•×¤×¡ ×‘××ª×¨     â”‚
â”‚  - ××™××™×™×œ        â”‚
â”‚  - WhatsApp      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ×¢×™×‘×•×“ ×¤× ×™×™×”     â”‚
â”‚  - ×§×˜×’×•×¨×™×–×¦×™×”    â”‚
â”‚  - ×ª×™×¢×“×•×£        â”‚
â”‚  - ×”×§×¦××”         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ×”×ª×¨××•×ª         â”‚
â”‚  - ××™××™×™×œ ×œ×ª×•×©×‘  â”‚
â”‚  - WhatsApp ×œ×•×¢×“ â”‚
â”‚  - SMS (××•×¤×¦×™×•× ×œ×™)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ×˜×™×¤×•×œ ×•××¢×§×‘    â”‚
â”‚  - ×¢×“×›×•×Ÿ ×¡×˜×˜×•×¡   â”‚
â”‚  - ×ª×™×¢×•×“ ×¤×¢×•×œ×•×ª  â”‚
â”‚  - ×¡×’×™×¨×ª ×¤× ×™×™×”   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×§×˜×’×•×¨×™×•×ª ×¤× ×™×•×ª ××•××œ×¦×•×ª
1. **×ª×©×ª×™×•×ª** - ×›×‘×™×©×™×, ×ª××•×¨×”, ×‘×™×•×‘, ××™×
2. **×¡×‘×™×‘×” ×•× ×•×£** - × ×™×§×™×•×Ÿ, ×’×™× ×•×Ÿ, ××¤×’×¢×™×
3. **×‘×˜×—×•×Ÿ ×•×‘×˜×™×—×•×ª** - ×’×“×¨×•×ª, ××¦×œ××•×ª, ×¡×™×•×¨×™×
4. **×§×”×™×œ×” ×•×¨×•×•×—×”** - ××™×¨×•×¢×™×, ××ª× "×¡, × ×•×¢×¨
5. **××™× ×”×œ** - ×ª×©×œ×•××™×, ××¡××›×™×, ××™×©×•×¨×™×
6. **×—×™×¨×•×** - ×“×™×•×•×—×™× ×“×—×•×¤×™×

### ×©×“×•×ª ×‘×˜×•×¤×¡ ×¤× ×™×™×”
```javascript
const requestSchema = {
  // ×¤×¨×˜×™ ××’×™×©
  submitter: {
    name: String,           // ×©× ××œ×
    email: String,          // ××™××™×™×œ
    phone: String,          // ×˜×œ×¤×•×Ÿ
    address: String,        // ×›×ª×•×‘×ª ×‘×™×™×©×•×‘
    preferredContact: String // ×“×¨×š ×ª×§×©×•×¨×ª ××•×¢×“×¤×ª
  },
  // ×¤×¨×˜×™ ×¤× ×™×™×”
  request: {
    category: String,       // ×§×˜×’×•×¨×™×”
    subcategory: String,    // ×ª×ª-×§×˜×’×•×¨×™×”
    subject: String,        // × ×•×©×
    description: String,    // ×ª×™××•×¨ ××¤×•×¨×˜
    location: String,       // ××™×§×•× ×”×‘×¢×™×”
    priority: String,       // ×“×—×™×¤×•×ª
    attachments: [String]   // ×§×‘×¦×™× ××¦×•×¨×¤×™×
  },
  // ××˜×-×“××˜×
  metadata: {
    submittedAt: Date,
    source: String,         // web/email/whatsapp
    status: String,
    assignedTo: String,
    resolvedAt: Date
  }
};
```

---

## ××™× ×˜×’×¨×¦×™×™×ª WhatsApp

### ××¤×©×¨×•×™×•×ª ××™× ×˜×’×¨×¦×™×”

#### 1. WhatsApp Business API (××•××œ×¥ ×œ×©×™××•×© ×¨×©××™)
**×™×ª×¨×•× ×•×ª:**
- API ×¨×©××™ ×©×œ Meta
- ×ª××™×›×” ×‘-Webhooks
- Templates ×××•×©×¨×™×
- ×××™× ×•×ª ×’×‘×•×”×”

**×—×¡×¨×•× ×•×ª:**
- ×¢×œ×•×ª (×”×—×œ ×-$25/×—×•×“×© + per-message)
- ×ª×”×œ×™×š ××™×©×•×¨ Business
- ××’×‘×œ×•×ª ×¢×œ ×¡×•×’×™ ×”×•×“×¢×•×ª ×™×–×•××•×ª

**×©×™××•×© ××•××œ×¥:**
- ×”×•×“×¢×•×ª ××™×©×•×¨ ×œ×ª×•×©×‘×™×
- ×¢×“×›×•× ×™ ×¡×˜×˜×•×¡ ×¤× ×™×•×ª
- ×”×ª×¨××•×ª ×“×—×•×¤×•×ª

#### 2. WhatsApp Web Bridge (×›××• ×©×§×™×™× ×‘×¤×¨×•×™×§×˜ ×”× ×•×›×—×™)
**×™×ª×¨×•× ×•×ª:**
- ×—×™× ×
- ×’××™×©×•×ª ××œ××”
- ××™×Ÿ ××’×‘×œ×•×ª Templates

**×—×¡×¨×•× ×•×ª:**
- ×œ× ×¨×©××™ (×¡×™×›×•×Ÿ ×œ×—×¡×™××”)
- ×“×•×¨×© ××—×©×‘ ×¤×•×¢×œ
- ×¤×—×•×ª ×™×¦×™×‘

### Webhook Integration

```javascript
// ×“×•×’××ª Webhook ×œ×§×‘×œ×ª ×”×•×“×¢×•×ª
app.post('/api/whatsapp/webhook', async (req, res) => {
  const { from, message, timestamp } = req.body;

  // ×¢×™×‘×•×“ ×”×•×“×¢×” × ×›× ×¡×ª
  const request = await processIncomingMessage({
    source: 'whatsapp',
    phone: from,
    content: message,
    timestamp
  });

  // ×©××™×¨×” ×‘××¢×¨×›×ª
  await saveRequest(request);

  // ×”×ª×¨××” ×œ×•×•×¢×“
  await notifyCommittee(request);

  res.status(200).send('OK');
});
```

### ×”×•×“×¢×•×ª ×œ×§×‘×•×¦×ª ×•×¢×“ ×”×™×™×©×•×‘

```javascript
// ×©×œ×™×—×ª ×¢×“×›×•×Ÿ ×¢×œ ×¤× ×™×™×” ×—×“×©×” ×œ×§×‘×•×¦×ª WhatsApp
async function notifyWhatsAppGroup(request) {
  const message = `
ğŸ“¬ *×¤× ×™×™×” ×—×“×©×” #${request.id}*

ğŸ‘¤ *××’×™×©:* ${request.submitter.name}
ğŸ“‚ *×§×˜×’×•×¨×™×”:* ${request.category}
ğŸ“‹ *× ×•×©×:* ${request.subject}
ğŸ“ *××™×§×•×:* ${request.location || '×œ× ×¦×•×™×Ÿ'}
â° *× ×©×œ×—:* ${formatDate(request.submittedAt)}

${request.description.substring(0, 200)}...

ğŸ”— ×œ×¦×¤×™×™×” ×‘××¢×¨×›×ª: ${ADMIN_URL}/requests/${request.id}
  `;

  await whatsappService.sendToGroup(VAAD_GROUP_ID, message);
}
```

---

## ×ª×™×›×œ×•×œ ××¢×¨×›×•×ª ×ª×§×©×•×¨×ª

### Unified Inbox - ×ª×™×‘×ª ×“×•××¨ ×××•×—×“×ª

×”××¢×¨×›×ª ×ª×¨×›×– ×”×•×“×¢×•×ª ××›×œ ×”×¢×¨×•×¦×™× ×œ×××©×§ ××—×“:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Unified Inbox                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Email   â”‚  â”‚ WhatsApp â”‚  â”‚   SMS    â”‚  â”‚   Web    â”‚â”‚
â”‚  â”‚  IMAP/   â”‚  â”‚  Bridge  â”‚  â”‚  Gateway â”‚  â”‚  Forms   â”‚â”‚
â”‚  â”‚  SMTP    â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â”‚             â”‚             â”‚             â”‚       â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                  â”‚         â”‚             â”‚              â”‚
â”‚                  â–¼         â–¼             â–¼              â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚            â”‚    Message Processing Engine    â”‚          â”‚
â”‚            â”‚    - Parsing                    â”‚          â”‚
â”‚            â”‚    - Categorization (AI)        â”‚          â”‚
â”‚            â”‚    - Deduplication              â”‚          â”‚
â”‚            â”‚    - Priority Assignment        â”‚          â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â”‚                             â”‚
â”‚                           â–¼                             â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚            â”‚       Request Database          â”‚          â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ××™× ×˜×’×¨×¦×™×™×ª ××™××™×™×œ

```javascript
// IMAP Listener ×œ×§×‘×œ×ª ××™×™×œ×™×
const Imap = require('imap');
const simpleParser = require('mailparser').simpleParser;

const imapConfig = {
  user: 'pniyot@meitzad.org.il',
  password: process.env.EMAIL_PASSWORD,
  host: 'imap.gmail.com',
  port: 993,
  tls: true
};

async function startEmailListener() {
  const imap = new Imap(imapConfig);

  imap.on('mail', async () => {
    // ×§×‘×œ×ª ××™×™×œ ×—×“×©
    const messages = await fetchNewMessages(imap);

    for (const msg of messages) {
      const parsed = await simpleParser(msg);

      // ×™×¦×™×¨×ª ×¤× ×™×™×” ××”××™×™×œ
      const request = {
        source: 'email',
        submitter: {
          name: parsed.from.text,
          email: parsed.from.value[0].address
        },
        request: {
          subject: parsed.subject,
          description: parsed.text,
          attachments: parsed.attachments
        }
      };

      await createRequest(request);
    }
  });

  imap.connect();
}
```

### ×ª×¨×©×™× ×–×¨×™××ª ××™×“×¢

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    ×ª×•×©×‘ ××™×¦×“    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                 â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚   ××™××™×™×œ    â”‚   â”‚    ××ª×¨     â”‚   â”‚  WhatsApp   â”‚
    â”‚pniyot@     â”‚   â”‚  ××™×¦×“      â”‚   â”‚   ×™×©×™×¨      â”‚
    â”‚meitzad.org â”‚   â”‚            â”‚   â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                 â”‚                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ××¢×¨×›×ª × ×™×”×•×œ   â”‚
                    â”‚   ××ª×¨ ××™×¦×“      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
       â”‚   Dashboard â”‚  â”‚ Database â”‚  â”‚  Outbound   â”‚
       â”‚   ×œ×•×•×¢×“     â”‚  â”‚  Storage â”‚  â”‚  Messages   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  ×§×‘×•×¦×ª WhatsApp â”‚
                                    â”‚   ×•×¢×“ ×”×™×™×©×•×‘   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ×˜×›× ×•×œ×•×’×™×•×ª ××•××œ×¦×•×ª

### Frontend
| ×˜×›× ×•×œ×•×’×™×” | ×©×™××•×© | ×”×¢×¨×•×ª |
|-----------|--------|-------|
| HTML5/CSS3 | ××‘× ×” ×•×¢×™×¦×•×‘ | ×ª××™×›×” RTL |
| JavaScript ES6+ | ×œ×•×’×™×§×” | Vanilla ××• React |
| Tailwind CSS | ×¢×™×¦×•×‘ ××”×™×¨ | ××•×¤×¦×™×•× ×œ×™ |
| Chart.js | ×’×¨×¤×™× | ×œ×“×•×—×•×ª |

### Backend
| ×˜×›× ×•×œ×•×’×™×” | ×©×™××•×© | ×”×¢×¨×•×ª |
|-----------|--------|-------|
| Node.js | ×©×¨×ª | v18+ |
| Express.js | API Framework | |
| Socket.io | Real-time | ×¢×“×›×•× ×™× ×—×™×™× |
| Nodemailer | Email | ×©×œ×™×—×”/×§×‘×œ×” |
| node-imap | Email | ×”××–× ×” |

### Database (×¨××” ××—×§×¨ × ×¤×¨×“)
| ××¤×©×¨×•×ª | ×™×ª×¨×•× ×•×ª | ×—×¡×¨×•× ×•×ª |
|--------|---------|---------|
| Firebase | ××”×™×¨ ×œ×”×§××”, Real-time | ×ª×œ×•×ª ×‘Google, ×¢×œ×•×ª |
| SQLite | ×¤×©×•×˜, ××§×•××™, ×—×™× × | ×œ× distributed |
| PostgreSQL | ×—×–×§, SQL ××œ× | ×“×•×¨×© ×”×§××” |

### Hosting
| ××¤×©×¨×•×ª | ×™×ª×¨×•× ×•×ª | ×¢×œ×•×ª |
|--------|---------|------|
| Firebase Hosting | ××”×™×¨, SSL, CDN | ×—×™× × ×¢×“ ×’×‘×•×œ |
| VPS (DigitalOcean) | ×©×œ×™×˜×” ××œ××” | $5-20/×—×•×“×© |
| Vercel | ××”×™×¨ ×œ-Frontend | ×—×™× × ×œ×¤×¨×•×™×§×˜×™× ×§×˜× ×™× |

---

## ××‘×˜×—×” ×•×”×¨×©××•×ª

### ×¨××•×ª ×”×¨×©××”

```javascript
const ROLES = {
  SUPER_ADMIN: 'super_admin',  // ×× ×”×œ ×¨××©×™
  ADMIN: 'admin',              // ×—×‘×¨ ×•×¢×“
  STAFF: 'staff',              // ××–×›×™×¨×•×ª
  CITIZEN: 'citizen'           // ×ª×•×©×‘
};

const PERMISSIONS = {
  super_admin: ['*'],  // ×”×›×œ
  admin: [
    'view_all_requests',
    'update_requests',
    'assign_requests',
    'view_reports',
    'manage_users',
    'send_notifications'
  ],
  staff: [
    'view_all_requests',
    'update_requests',
    'send_notifications'
  ],
  citizen: [
    'submit_request',
    'view_own_requests',
    'update_own_profile'
  ]
};
```

### ××‘×˜×—×ª ××™×“×¢
1. **×”×¦×¤× ×”** - HTTPS, ×”×¦×¤× ×ª ×¡×™×¡×××•×ª (bcrypt)
2. **××™××•×ª** - JWT Tokens, Session management
3. **×”×’× ×” ××¤× ×™ ×”×ª×§×¤×•×ª** - CSRF, XSS, SQL Injection
4. **×’×™×‘×•×™** - ×’×™×‘×•×™ ××•×˜×•××˜×™ ×™×•××™
5. **×œ×•×’×™×** - ×ª×™×¢×•×“ ×¤×¢×•×œ×•×ª ×¨×’×™×©×•×ª

---

## ××§×•×¨×•×ª

### ××ª×¨×™× ××•× ×™×¦×™×¤×œ×™×™×
- [CivicPlus - Municipal Websites](https://www.civicplus.com/municipal-websites/)
- [Govstack - Citizen Portal](https://www.govstack.com/products/products-citizen-portal/)
- [Municipal Website Guide 2025](https://snapsite.us/what-is-a-municipal-website-2025/)

### WhatsApp Integration
- [WhatsApp Business API Webhooks](https://business.whatsapp.com/blog/how-to-use-webhooks-from-whatsapp-business-api/)
- [WhatsApp API Complete Guide 2026](https://www.unipile.com/whatsapp-api-a-complete-guide-to-integration/)

### Citizen Request Systems
- [iWorQ Citizen Engagement](https://iworq.com/systems/citizen-engagement-software/)
- [CivicPlus 311 CRM](https://www.civicplus.com/citizen-request-management/)
- [Novo Solutions CRM](https://novosolutions.com/citizen-request-management-software/)

### Multi-Channel Platforms
- [Respond.io Multichannel](https://respond.io/blog/multichannel-communication)
- [iMBrace Multi-Channel Inbox](https://www.imbrace.co/multi-channel-inbox/)

---

## ×¡×™×›×•× ×”××œ×¦×•×ª

### ×©×œ×‘ 1 - MVP (Minimum Viable Product)
1. ×˜×•×¤×¡ ×¤× ×™×•×ª ×‘×¡×™×¡×™ ×¢× ×§×˜×’×•×¨×™×•×ª
2. Dashboard ×¤×©×•×˜ ×œ×•×•×¢×“
3. ×©×œ×™×—×ª ×”×ª×¨××•×ª ××™××™×™×œ
4. ×©×œ×™×—×” ×œ×§×‘×•×¦×ª WhatsApp

### ×©×œ×‘ 2 - ×”×¨×—×‘×”
1. ×¤×•×¨×˜×œ ×ª×•×©×‘ ×¢× ×”×ª×—×‘×¨×•×ª
2. ××¢×§×‘ ×¡×˜×˜×•×¡ ×¤× ×™×•×ª
3. ×“×•×—×•×ª ×•×× ×œ×™×˜×™×§×”
4. ××™× ×˜×’×¨×¦×™×™×ª ××™××™×™×œ × ×›× ×¡

### ×©×œ×‘ 3 - ××ª×§×“×
1. × ×™×”×•×œ ××™×¨×•×¢×™×
2. ××¨×›×™×•×Ÿ ××¡××›×™×
3. AI ×œ×§×˜×’×•×¨×™×–×¦×™×” ××•×˜×•××˜×™×ª
4. ××¤×œ×™×§×¦×™×™×ª ××•×‘×™×™×œ

---

*××¡××š ×–×” × ×•×¦×¨ ×‘-2026-01-19*
*××—×‘×¨: Claude Code*
